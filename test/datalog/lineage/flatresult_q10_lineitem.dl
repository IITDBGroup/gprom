Q(C_CK,C_N,sum((L_EP * (1 - L_D))),C_AB,N_N,C_A,C_P,C_C) :-
    CUSTOMER(C_CK,C_N,C_A,C_NK,C_P,C_AB,C1,C_C),
    ORDERS(O_OK,C_CK,O1,O2,O_OD,O3,O4,O5,O6),
    LINEITEM(O_OK,L1,L2,L3,L4,L_EP,L_D,L5,'R',L6,L7,L8,L9,L10,L11,L12),
    NATION(C_NK,N_N,N2,N3),
    O_OD >= '1993-10-01',
    O_OD < '1994-01-01'.

RP(X1,X2,X3,X4,X5,X6,X7,X8) :- RTPCQ10(X1,X2,X3,X4,X5,X6,X7,X8).

PROV_LINEITEM(O_OK,L1,L2,L3,L4,L_EP,L_D,L5,'R',L6,L7,L8,L9,L10,L11,L12) :- CUSTOMER(C_CK,C_N,C_A,C_NK,C_P,C_AB,C1,C_C),ORDERS(O_OK,C_CK,O1,O2,O_OD,O3,O4,O5,O6),LINEITEM(O_OK,L1,L2,L3,L4,L_EP,L_D,L5,'R',L6,L7,L8,L9,L10,L11,L12),NATION(C_NK,N_N,N2,N3),((O_OD >= '1993-10-01')),((O_OD < '1994-01-01')),@RP(C_CK,C_N,V1,C_AB,N_N,C_A,C_P,C_C).

ANS: PROV_LINEITEM.
